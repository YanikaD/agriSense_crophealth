import React, { useState, useEffect } from "react";
import { AlertTriangle, CheckCircle, Info, MapPin } from "lucide-react";

import defectedImg from "./assets/defected.png";
import defected2Img from "./assets/defected2.png";
import healthyImg from "./assets/healthy.png";
import fullmapImg from "./assets/fullmap.png";
import fullmapHealthyImg from "./assets/fullmapHealthy.png";

const AgriMonitorPitchApp = () => {
  useEffect(() => {
    if (!document.getElementById("tailwind-cdn")) {
      const script = document.createElement("script");
      script.id = "tailwind-cdn";
      script.src = "https://cdn.tailwindcss.com";
      document.head.appendChild(script);
    }
  }, []);
  const [currentScreen, setCurrentScreen] = useState("alert");

  const alertData = {
    title: "‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡πÉ‡∏ô‡∏™‡∏ß‡∏ô",
    date: "5 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568",
    time: "10:30 ‡∏ô.",
    location: "‡∏™‡∏ß‡∏ô‡∏¢‡∏≤‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà 1, ‡πÇ‡∏ã‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å",
    area: "1 ‡πÑ‡∏£‡πà 5 ‡∏á‡∏≤‡∏ô 16 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏≤",
    summary: {
      text: "‡∏ï‡πâ‡∏ô‡∏¢‡∏≤‡∏á‡∏°‡∏µ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏î‡∏µ ‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á (89%) ‡πÅ‡∏•‡∏∞‡πÄ‡∏¢‡πá‡∏ô (19¬∞C) ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 7 ‡∏ß‡∏±‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ï‡πà‡∏≠‡πÇ‡∏£‡∏Ñ‡πÄ‡∏ä‡∏∑‡πâ‡∏≠‡∏£‡∏≤ ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡πá‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô",
    },
    detection: {
      description: "‡πÉ‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏´‡πá‡∏ô 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô‡∏ß‡∏á‡∏Å‡∏•‡∏°",
    },
    nearbyFarms: [
      { direction: "‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏â‡∏µ‡∏¢‡∏á‡πÄ‡∏´‡∏ô‡∏∑‡∏≠", distance: "3", time: "5 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß" },
      { direction: "‡∏ó‡∏¥‡∏®‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å", distance: "4", time: "1 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß" },
      { direction: "‡∏ó‡∏¥‡∏®‡πÉ‡∏ï‡πâ", distance: "5", time: "3 ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡πâ‡∏ß" },
    ],
    indices: [
      {
        name: "NDVI",
        icon: "üå±",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (NDVI)",
        value: "0.45",
        status: "‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥",
        desc: "‡πÉ‡∏ö‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏î ‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πà‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á",
        normalRange: "0.65 - 0.85",
      },
      {
        name: "NDRE",
        icon: "üçÉ",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (NDRE)",
        value: "0.32",
        status: "‡∏ï‡πà‡∏≥",
        desc: "‡πÉ‡∏ö‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏≠ ‡∏≠‡∏≤‡∏à‡∏Ç‡∏≤‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
        normalRange: "0.55 - 0.75",
      },
      {
        name: "NDMI",
        icon: "üíß",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏ï‡πâ‡∏ô (NDMI)",
        value: "0.28",
        status: "‡πÅ‡∏´‡πâ‡∏á",
        desc: "‡∏ï‡πâ‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏ô‡πâ‡∏≠‡∏¢ ‡∏≠‡∏≤‡∏à‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏£‡∏Ñ",
        normalRange: "0.50 - 0.70",
      },
      {
        name: "PSRI",
        icon: "üçÇ",
        label: "‡πÉ‡∏ö‡πÅ‡∏Å‡πà/‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏° (PSRI)",
        value: "0.18",
        status: "‡∏™‡∏π‡∏á",
        desc: "‡πÉ‡∏ö‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏Å‡πà‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î",
        normalRange: "< 0.05",
      },
    ],
  };

  const healthyData = {
    title: "‡∏™‡∏ß‡∏ô‡∏°‡∏µ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ",
    date: "5 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2568",
    time: "10:30 ‡∏ô.",
    location: "‡∏™‡∏ß‡∏ô‡∏¢‡∏≤‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà 2, ‡πÇ‡∏ã‡∏ô‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å",
    area: "2 ‡πÑ‡∏£‡πà 3 ‡∏á‡∏≤‡∏ô 40 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ß‡∏≤",
    summary: {
      text: "‡∏ï‡πâ‡∏ô‡∏¢‡∏≤‡∏á‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏î‡∏µ ‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡∏ä‡∏∑‡πâ‡∏ô‡∏û‡∏≠‡∏î‡∏µ (72%) ‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô (26¬∞C) ‡∏°‡∏µ‡∏ù‡∏ô‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡∏î‡∏π‡πÅ‡∏•‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤",
    },
    detection: {
      description: "‡∏ï‡πâ‡∏ô‡∏¢‡∏≤‡∏á‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ ‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥",
    },
    indices: [
      {
        name: "NDVI",
        icon: "üå±",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (NDVI)",
        value: "0.78",
        status: "‡∏î‡∏µ‡∏°‡∏≤‡∏Å",
        desc: "‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏î ‡∏ï‡πâ‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á",
        normalRange: "0.65 - 0.85",
      },
      {
        name: "NDRE",
        icon: "üçÉ",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (NDRE)",
        value: "0.65",
        status: "‡∏î‡∏µ",
        desc: "‡πÉ‡∏ö‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á ‡∏°‡∏µ‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠",
        normalRange: "0.55 - 0.75",
      },
      {
        name: "NDMI",
        icon: "üíß",
        label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏ï‡πâ‡∏ô (NDMI)",
        value: "0.58",
        status: "‡∏û‡∏≠‡∏î‡∏µ",
        desc: "‡∏ï‡πâ‡∏ô‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ ‡πÑ‡∏°‡πà‡πÅ‡∏´‡πâ‡∏á‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡πà‡∏ß‡∏°",
        normalRange: "0.50 - 0.70",
      },
      {
        name: "PSRI",
        icon: "üçÇ",
        label: "‡πÉ‡∏ö‡πÅ‡∏Å‡πà/‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏° (PSRI)",
        value: "0.02",
        status: "‡∏ï‡πà‡∏≥",
        desc: "‡πÉ‡∏ö‡∏¢‡∏±‡∏á‡∏≠‡πà‡∏≠‡∏ô ‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏∑‡πà‡∏≠‡∏°‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢",
        normalRange: "< 0.05",
      },
    ],
  };

  const currentData = currentScreen === "alert" ? alertData : healthyData;
  const isAlert = currentScreen === "alert";

  return (
    <div className="min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex flex-col items-center justify-start pt-4 pb-6 px-4">
      {/* Toggle Buttons */}
      <div className="w-full max-w-sm flex gap-2 bg-white/95 backdrop-blur-sm rounded-xl shadow-2xl p-1.5 mb-4">
        {["alert", "healthy"].map((screen) => (
          <button
            key={screen}
            onClick={() => setCurrentScreen(screen)}
            className={`flex-1 px-4 py-2 rounded-lg font-semibold text-xs transition-all duration-300 ${
              currentScreen === screen
                ? screen === "alert"
                  ? "bg-gradient-to-r from-red-500 to-orange-500 text-white shadow-lg scale-105"
                  : "bg-gradient-to-r from-emerald-500 to-green-500 text-white shadow-lg scale-105"
                : "bg-gray-100 text-gray-600 hover:bg-gray-200"
            }`}
          >
            {screen === "alert" ? "üö® ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤" : "‚úÖ ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏î‡∏µ"}
          </button>
        ))}
      </div>

      {/* Phone Container */}
      <div
        className="w-full max-w-sm bg-gradient-to-b from-gray-900 to-black rounded-[2.5rem] shadow-2xl p-3"
        style={{ 
          maxWidth: "420px",
          height: "min(85vh, 800px)"
        }}
      >
        <div className="bg-white rounded-[2rem] h-full overflow-hidden relative flex flex-col shadow-inner">
          {/* Header - Fixed */}
          <div
            className={`flex-shrink-0 ${
              isAlert
                ? "bg-gradient-to-r from-red-500 via-red-500 to-orange-500"
                : "bg-gradient-to-r from-emerald-500 via-green-500 to-lime-500"
            } text-white p-3 shadow-lg`}
          >
            <div className="flex items-center gap-2.5">
              {isAlert ? (
                <AlertTriangle className="w-5 h-5 sm:w-6 sm:h-6 animate-pulse" />
              ) : (
                <CheckCircle className="w-5 h-5 sm:w-6 sm:h-6" />
              )}
              <div>
                <h1 className="text-sm sm:text-base font-bold">{currentData.title}</h1>
                <p className="text-[9px] sm:text-[10px] text-white/90">
                  {currentData.date} ‚Ä¢ {currentData.time}
                </p>
              </div>
            </div>
          </div>

          {/* Map - Fixed */}
          <div className="relative bg-black flex-shrink-0">
            <img 
              src={isAlert ? fullmapImg : fullmapHealthyImg} 
              alt="Field Map" 
              className="w-full h-40 sm:h-48 object-cover" 
            />
            <div className="absolute top-2 left-2 flex flex-col items-center h-[65%]">
              <span className="text-[8px] sm:text-[9px] font-bold text-white mb-0.5 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">‡∏™‡∏π‡∏á</span>
              <div 
                className="flex-1 w-3 rounded-full shadow-xl border border-white/20" 
                style={{background:"linear-gradient(to bottom, #ef4444, #fb923c, #fde047, #86efac, #16a34a)"}}
              />
              <span className="text-[8px] sm:text-[9px] font-bold text-white mt-0.5 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">‡∏ï‡πà‡∏≥</span>
            </div>
            <div className={`absolute top-2 right-2 ${isAlert ? "bg-red-500" : "bg-emerald-500"} rounded-lg px-2 py-1 text-white text-[9px] sm:text-[10px] font-bold shadow-lg`}>
              {currentData.area}
            </div>
          </div>

          {/* Carousel - Fixed */}
          <div className="flex-shrink-0 py-2 sm:py-2.5 flex justify-center bg-gradient-to-b from-gray-50 to-white border-b border-gray-200">
            <div className="flex items-center gap-2">
              <button className="w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center text-xs font-bold text-gray-600 hover:text-gray-900 transition-all hover:scale-105">
                ‚óÄ
              </button>
              <div className="flex gap-1.5">
                {(isAlert
                  ? [{ date: '01/07', img: defected2Img }, { date: '06/07', img: defected2Img }, { date: '11/07', img: defectedImg }]
                  : [{ date: '01/07', img: healthyImg }, { date: '06/07', img: healthyImg }, { date: '11/07', img: healthyImg }]
                ).map((slide, i) => (
                  <div 
                    key={i} 
                    className={`flex flex-col items-center p-1 rounded-lg shadow-md transition-all ${
                      i === 2 
                        ? 'bg-white border-2 border-green-500 scale-105 shadow-lg' 
                        : 'bg-white/80 hover:bg-white'
                    }`}
                  >
                    <img 
                      src={slide.img} 
                      alt={slide.date} 
                      className="w-10 h-7 sm:w-11 sm:h-8 object-cover rounded" 
                    />
                    <span className={`text-[8px] sm:text-[9px] mt-0.5 ${i === 2 ? 'text-green-700 font-bold' : 'text-gray-600'}`}>
                      {slide.date}
                    </span>
                  </div>
                ))}
              </div>
              <button className="w-5 h-5 sm:w-6 sm:h-6 rounded-full bg-white shadow-md hover:shadow-lg flex items-center justify-center text-xs font-bold text-gray-600 hover:text-gray-900 transition-all hover:scale-105">
                ‚ñ∂
              </button>
            </div>
          </div>

          {/* Scrollable content - Only this part scrolls */}
          <div className="flex-1 overflow-y-auto px-3 py-3 space-y-3 bg-gradient-to-b from-white to-gray-50" style={{ minHeight: 0 }}>
            {/* Summary */}
            <div className={`${
              isAlert 
                ? "bg-gradient-to-br from-orange-50 to-red-50 border-orange-300" 
                : "bg-gradient-to-br from-emerald-50 to-green-50 border-emerald-300"
            } rounded-xl p-3 border-2 shadow-sm`}>
              <h3 className="font-bold text-xs mb-2 flex items-center gap-2">
                üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå
              </h3>
              <p className="text-[10px] sm:text-[11px] text-gray-700 leading-relaxed">
                {currentData.summary.text}
              </p>
            </div>

            <Section title="‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö" icon="üîç">
              {currentData.detection.description}
            </Section>

            {/* Indices */}
            <div className="bg-white rounded-xl shadow-md p-3 border border-gray-200">
              <h3 className="font-bold text-xs text-gray-800 mb-3 flex items-center gap-2">
                <span className="text-base">üõ∞Ô∏è</span> ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏î‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡∏¢‡∏°
              </h3>
              <div className="space-y-2.5">
                {currentData.indices.map((idx, i) => (
                  <div
                    key={i}
                    className={`flex items-start gap-2 p-2.5 rounded-xl border-2 transition-all ${
                      isAlert 
                        ? "bg-red-50 border-red-200 hover:border-red-300" 
                        : "bg-green-50 border-green-200 hover:border-green-300"
                    }`}
                  >
                    <span className="text-xl flex-shrink-0">{idx.icon}</span>
                    <div className="flex-1 min-w-0">
                      <div className="flex items-center justify-between mb-1">
                        <span className="font-semibold text-[10px] sm:text-[11px] text-gray-800">
                          {idx.label}
                        </span>
                        <span
                          className={`text-[9px] sm:text-[10px] font-bold px-2 py-0.5 rounded-lg ${
                            isAlert
                              ? "bg-red-200 text-red-700"
                              : "bg-green-200 text-green-700"
                          }`}
                        >
                          {idx.status}
                        </span>
                      </div>
                      <p className="text-[9px] sm:text-[10px] text-gray-600 leading-relaxed mb-1.5">
                        {idx.desc}
                      </p>
                      <div className="flex items-center justify-between">
                        <span className="text-[8px] sm:text-[9px] text-gray-500">
                          ‡∏Ñ‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥: {idx.normalRange}
                        </span>
                        <span className="text-sm font-bold text-gray-900">
                          {idx.value}
                        </span>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            </div>

            {/* Nearby Farms */}
            {isAlert && currentData.nearbyFarms && currentData.nearbyFarms.length > 0 && (
              <Section title="‡∏™‡∏ß‡∏ô‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á" icon="üìä">
                <p className="text-[10px] text-gray-600 mb-2">
                  ‡∏û‡∏ö‡∏™‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Å‡∏±‡∏ô {currentData.nearbyFarms.length} ‡πÅ‡∏õ‡∏•‡∏á:
                </p>
                {currentData.nearbyFarms.map((farm, i) => (
                  <div
                    key={i}
                    className="bg-orange-50 rounded-lg p-2 border border-orange-200 mb-1.5 flex justify-between items-center"
                  >
                    <div>
                      <div className="font-semibold text-[10px] text-gray-800">
                        {farm.direction} {farm.distance} ‡∏Å‡∏°.
                      </div>
                      <div className="text-[9px] text-gray-600">
                        ‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠ {farm.time}
                      </div>
                    </div>
                    <MapPin className="w-3 h-3 text-orange-600" />
                  </div>
                ))}
              </Section>
            )}
            
            {/* Suggestions */}
            {isAlert ? <AlertSuggestions currentData={currentData} /> : <HealthySuggestions />}

            {/* Note */}
            <div className={`${
              isAlert 
                ? 'bg-yellow-50 border-yellow-300' 
                : 'bg-blue-50 border-blue-300'
            } rounded-xl p-3 border-2 shadow-sm`}>
              <div className="flex gap-2">
                <Info className={`w-4 h-4 flex-shrink-0 mt-0.5 ${
                  isAlert ? 'text-yellow-600' : 'text-blue-600'
                }`} />
                <div>
                  <h4 className={`font-bold text-[10px] sm:text-[11px] mb-1 ${
                    isAlert ? 'text-yellow-900' : 'text-blue-900'
                  }`}>
                    üìå ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
                  </h4>
                  <p className={`text-[9px] sm:text-[10px] leading-relaxed ${
                    isAlert ? 'text-yellow-700' : 'text-blue-700'
                  }`}>
                    {isAlert
                      ? '‡∏ô‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô ‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏à‡∏£‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô'
                      : '‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ó‡∏∏‡∏Å 5 ‡∏ß‡∏±‡∏ô ‡∏´‡∏≤‡∏Å‡∏û‡∏ö‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ'}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
};

// Section Component
const Section = ({ title, icon, children }) => (
  <div className="bg-white rounded-xl shadow-md p-3 border border-gray-200">
    <h3 className="font-bold text-xs text-gray-800 mb-2 flex items-center gap-2">
      <span className="text-base">{icon}</span> {title}
    </h3>
    <div className="text-[10px] sm:text-[11px] text-gray-700 leading-relaxed">{children}</div>
  </div>
);

// Recommendations Data
const recommendations = {
  step1: {
    title: "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á",
    subtitle: "‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≥‡∏£‡∏ß‡∏à‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥",
    cases: [
      {
        id: "water",
        icon: "üíß",
        title: "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡πâ‡∏≥",
        indicators: ["‡πÉ‡∏ö‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß", "‡∏î‡∏¥‡∏ô‡πÅ‡∏´‡πâ‡∏á/‡πÅ‡∏â‡∏∞"],
        details: [
          "‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡∏•‡∏∂‡∏Å 10-15 ‡∏ã‡∏°. ‡∏´‡∏≤‡∏Å‡πÅ‡∏´‡πâ‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏ß‡πà‡∏≤‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥",
          "‡∏´‡∏≤‡∏Å‡∏î‡∏¥‡∏ô‡πÅ‡∏â‡∏∞‡∏°‡∏≤‡∏Å ‡∏≠‡∏≤‡∏à‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏°‡∏Ç‡∏±‡∏á ‡∏£‡∏≤‡∏Å‡πÄ‡∏ô‡πà‡∏≤",
          "‡∏î‡∏π‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î ‡∏™‡∏õ‡∏£‡∏¥‡∏á‡πÄ‡∏Å‡∏≠‡∏£‡πå ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà",
          "‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏∏‡πà‡∏° ‡∏ó‡∏µ‡πà‡∏ô‡πâ‡∏≥‡∏≠‡∏≤‡∏à‡∏Ç‡∏±‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢",
        ],
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏≤‡∏ß‡πÄ‡∏ó‡∏µ‡∏¢‡∏°‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏û‡∏∑‡∏ä (NDMI) ‡∏ï‡πà‡∏≥‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ‡∏°‡∏±‡∏Å‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ö‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ù‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏´‡∏¢‡∏∏‡∏î‡πÇ‡∏ï‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß",
          advice:
            "‡∏•‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡∏•‡∏∂‡∏Å 10‚Äì15 ‡∏ã‡∏°. ‡∏´‡∏≤‡∏Å‡πÅ‡∏´‡πâ‡∏á‡∏°‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏¥‡πà‡∏° ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ 30¬∞C ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô",
        },
      },
      {
        id: "nutrient",
        icon: "üåø",
        title: "‡∏Ç‡∏≤‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
        indicators: ["‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ö", "‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ö‡∏¢‡∏±‡∏á‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"],
        details: [
          "‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏ó‡∏±‡πà‡∏ß‡πÉ‡∏ö - ‡∏≠‡∏≤‡∏à‡∏Ç‡∏≤‡∏î‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô",
          "‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏™‡πâ‡∏ô‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß - ‡∏≠‡∏≤‡∏à‡∏Ç‡∏≤‡∏î‡πÄ‡∏´‡∏•‡πá‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏°‡∏á‡∏Å‡∏≤‡∏ô‡∏µ‡∏™",
          "‡∏Ç‡∏≠‡∏ö‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡πÅ‡∏´‡πâ‡∏á - ‡∏≠‡∏≤‡∏à‡∏Ç‡∏≤‡∏î‡πÇ‡∏û‡πÅ‡∏ó‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏°",
          "‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ö‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå",
        ],
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (NDRE) ‡∏ï‡πà‡∏≥‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏°‡∏±‡∏Å‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏ô‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡πÄ‡∏ï‡∏¥‡∏ö‡πÇ‡∏ï‡∏ä‡πâ‡∏≤ ‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡πÉ‡∏ö‡πÉ‡∏´‡∏°‡πà‡∏ä‡πâ‡∏≤ ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏ô‡∏ó‡∏¥‡πâ‡∏á‡∏ä‡πà‡∏ß‡∏á",
          advice:
            "‡∏≠‡∏≤‡∏à‡∏û‡∏¥‡∏à‡∏≤‡∏£‡∏ì‡∏≤‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏ä‡πà‡∏ô 15-15-15 ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏Ñ‡∏≠‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∏‡∏î‡∏°‡∏Ç‡∏≠‡∏á‡∏î‡∏¥‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ï‡πâ‡∏ô‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏Ç‡∏∂‡πâ‡∏ô",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ",
        },
      },
      {
        id: "leafage",
        icon: "üçÇ",
        title: "‡πÉ‡∏ö‡πÅ‡∏Å‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢ / ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏à‡∏≤‡∏Å‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°",
        indicators: ["‡πÉ‡∏ö‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á", "‡∏´‡∏•‡∏∏‡∏î‡∏£‡πà‡∏ß‡∏á‡∏á‡πà‡∏≤‡∏¢"],
        details: [
          "‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏π‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô ‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà",
          "‡∏´‡∏≤‡∏Å‡∏ù‡∏ô‡∏ï‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏±‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥",
          "‡∏ï‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏¥‡πà‡∏á‡πÉ‡∏´‡πâ‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏•‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏á‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ",
        ],
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Å‡πà‡∏Ç‡∏≠‡∏á‡πÉ‡∏ö (PSRI) ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥ ‡∏°‡∏±‡∏Å‡∏û‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏∑‡πâ‡∏ô‡∏°‡∏≤‡∏Å ‡πÉ‡∏ö‡πÅ‡∏Å‡πà‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏∏‡∏î‡∏£‡πà‡∏ß‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á",
          advice:
            "‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡∏Å‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏±‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏™‡∏ß‡∏ô ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏•‡∏°‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡πà‡∏≤‡∏û‡∏∑‡∏ä‡∏°‡∏µ‡πÇ‡∏£‡∏Ñ‡∏´‡∏£‡∏∑‡∏≠‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏û‡∏∑‡∏ä",
        },
      },
    ],
  },
  step2: {
    title: "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô",
    subtitle: "‡∏ó‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏ï‡∏≤‡∏°‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏û‡∏ö",
    cases: [
      {
        id: "water",
        icon: "üíß",
        title: "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡πâ‡∏≥",
        actions: [
          "‡∏Å‡∏£‡∏ì‡∏µ‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥: ‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÅ‡∏ï‡πà‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏à‡∏ô‡∏ó‡πà‡∏ß‡∏°",
          "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ä‡πâ‡∏≤‡πÜ ‡πÉ‡∏´‡πâ‡∏ã‡∏∂‡∏°‡∏•‡∏∂‡∏Å ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤‡∏£‡∏î‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏ï‡πà‡∏ï‡∏∑‡πâ‡∏ô",
          "‡∏Å‡∏£‡∏ì‡∏µ‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á: ‡∏Ç‡∏∏‡∏î‡∏£‡πà‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà",
          "‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î ‡∏™‡∏õ‡∏£‡∏¥‡∏á‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ä‡∏≥‡∏£‡∏∏‡∏î",
        ],
        precaution: "‚è∞ ‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏ï‡∏≠‡∏ô‡πÄ‡∏ä‡πâ‡∏≤-‡πÄ‡∏¢‡πá‡∏ô ‡πÑ‡∏°‡πà‡∏£‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏£‡∏ì‡∏µ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ NDMI ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 0.4 ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏±‡∏ô 7 ‡∏ß‡∏±‡∏ô ‡∏û‡∏∑‡∏ä‡∏°‡∏±‡∏Å‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏™‡∏î‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡πÇ‡∏ï‡∏ä‡πâ‡∏≤‡∏•‡∏á ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏§‡∏î‡∏π‡πÅ‡∏•‡πâ‡∏á",
          advice:
            "‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏£‡πâ‡∏≠‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡πÅ‡∏ö‡∏ö‡πÅ‡∏ú‡πà‡∏ß‡πÄ‡∏ö‡∏≤‡πÅ‡∏ï‡πà‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏ô‡∏ä‡∏∏‡πà‡∏°‡∏•‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà",
          note:
            "‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏û‡∏∑‡∏ä‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏à‡∏≤‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏´‡πâ‡∏á",
        },
      },
      {
        id: "nutrient",
        icon: "üåø",
        title: "‡∏Ç‡∏≤‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
        actions: [
          "‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏•‡∏≤‡∏á 15-15-15 ‡∏£‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ô‡∏ï‡πâ‡∏ô ‡∏´‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÇ‡∏Ñ‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30‚Äì50 ‡∏ã‡∏°.",
          "‡∏£‡∏î‡∏ô‡πâ‡∏≥‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πã‡∏¢‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡∏ã‡∏∂‡∏°‡∏•‡∏á‡∏î‡∏¥‡∏ô",
          "‡∏â‡∏µ‡∏î‡∏û‡πà‡∏ô‡∏õ‡∏∏‡πã‡∏¢‡∏ó‡∏≤‡∏á‡πÉ‡∏ö‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡πà‡∏á‡∏ü‡∏∑‡πâ‡∏ô‡∏ü‡∏π",
        ],
        precaution: "üí° ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏°‡∏≤‡∏Å‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏≠‡∏≤‡∏à‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏Å‡πÑ‡∏´‡∏°‡πâ",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏•‡∏≤‡∏¢‡∏õ‡∏µ‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ ‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ñ‡πà‡∏≤ NDRE ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 0.35 ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á 2 ‡∏£‡∏≠‡∏ö ‡∏°‡∏µ‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÉ‡∏´‡πâ‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡∏ô‡πâ‡∏≠‡∏¢‡∏•‡∏á‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏ß‡∏∞‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏™‡∏°‡∏î‡∏∏‡∏•",
          advice:
            "‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡∏õ‡∏µ‡∏•‡∏∞ 1‚Äì2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏∏‡πã‡∏¢‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏Ç‡∏≠‡∏á‡∏û‡∏∑‡∏ä‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≤‡∏¢‡∏∏",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÅ‡∏ô‡∏∞‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏™‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡πà‡∏≤‡∏ô",
        },
      },
      {
        id: "leafage",
        icon: "üçÇ",
        title: "‡πÉ‡∏ö‡πÅ‡∏Å‡πà‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏¢ / ‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏à‡∏≤‡∏Å‡∏™‡∏†‡∏≤‡∏û‡πÅ‡∏ß‡∏î‡∏•‡πâ‡∏≠‡∏°",
        actions: [
          "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÉ‡∏ô‡πÅ‡∏õ‡∏•‡∏á ‡πÇ‡∏î‡∏¢‡∏ï‡∏±‡∏î‡∏Å‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡∏ô‡∏≤‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏≠‡∏Å",
          "‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏î‡∏¥‡∏ô ‡∏´‡∏≤‡∏Å‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏ó‡∏±‡∏ô‡∏ó‡∏µ",
          "‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏ï‡∏≠‡∏ô‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ö‡∏ä‡πâ‡∏≥",
        ],
        precaution: "üå§Ô∏è ‡∏Ñ‡∏ß‡∏£‡∏î‡∏π‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡πà‡∏≤ PSRI ‡∏™‡∏π‡∏á‡∏°‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏ô‡∏ï‡∏Å‡∏ä‡∏∏‡∏Å‡πÅ‡∏•‡∏∞‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤ 22¬∞C ‡πÉ‡∏ö‡∏û‡∏∑‡∏ä‡∏°‡∏±‡∏Å‡πÅ‡∏Å‡πà‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏£‡πà‡∏ß‡∏á‡∏á‡πà‡∏≤‡∏¢",
          advice:
            "‡∏´‡∏≤‡∏Å‡πÄ‡∏à‡∏≠‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ö‡πà‡∏≠‡∏¢ ‡∏Ñ‡∏ß‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏¥‡πà‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏ß‡πà‡∏≤‡∏û‡∏∑‡∏ä‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏à‡∏£‡∏¥‡∏á",
        },
      },
    ],
  },
  step3: {
    title: "‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏û‡∏£‡πà‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢",
    subtitle: "‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏•‡∏∏‡∏Å‡∏•‡∏≤‡∏°",
    cases: [
      {
        id: "water",
        icon: "üíß",
        title: "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡πâ‡∏≥",
        actions: [
          "‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ",
          "‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡∏ã‡πà‡∏≠‡∏°‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏±‡πà‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô",
          "‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏ü‡∏≤‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏Å‡∏•‡∏ö ‡∏ä‡πà‡∏ß‡∏¢‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô",
          "‡∏Ç‡∏∏‡∏î‡∏£‡πà‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏∏‡πà‡∏°",
        ],
        note: "‡∏à‡∏±‡∏î‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏î‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡∏§‡∏î‡∏π‡πÅ‡∏•‡πâ‡∏á",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î‡πÅ‡∏•‡∏∞‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô‡∏°‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤ 20‚Äì30% ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏•‡πà‡∏á",
          advice:
            "‡∏Ñ‡∏ß‡∏£‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏Å‡∏≤‡∏£‡∏£‡∏∞‡πÄ‡∏´‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏´‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ",
        },
      },
      {
        id: "nutrient",
        icon: "üåø",
        title: "‡∏Ç‡∏≤‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
        actions: [
          "‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏î‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á‡πÅ‡∏õ‡∏•‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå‡∏ó‡∏∏‡∏Å 3‚Äì4 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
          "‡πÄ‡∏ï‡∏¥‡∏°‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ò‡∏≤‡∏ï‡∏∏‡∏£‡∏≠‡∏á ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏´‡∏•‡πá‡∏Å ‡πÅ‡∏°‡∏á‡∏Å‡∏≤‡∏ô‡∏µ‡∏™ ‡∏™‡∏±‡∏á‡∏Å‡∏∞‡∏™‡∏µ",
          "‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏π‡∏ï‡∏£‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏™‡∏°‡∏î‡∏∏‡∏•",
        ],
        note: "‡πÄ‡∏Å‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏î‡∏¥‡∏ô‡∏™‡πà‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏ó‡∏∏‡∏Å‡∏õ‡∏µ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏™‡∏π‡∏ï‡∏£‡∏õ‡∏∏‡πã‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏Ñ‡∏°‡∏µ‡πÉ‡∏ô‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤ NDRE ‡∏Ç‡∏≠‡∏á‡∏û‡∏∑‡∏ä‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 1 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
          advice:
            "‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏ô‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ",
          note:
            "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏ó‡∏î‡∏•‡∏≠‡∏á‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏†‡∏≤‡∏Ñ‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ",
        },
      },
    ],
  },
  step4: {
    title: "‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏ú‡∏•‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å",
    subtitle: "‡πÄ‡∏ù‡πâ‡∏≤‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ",
    cases: [
      {
        id: "water",
        icon: "üíß",
        title: "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡πâ‡∏≥",
        actions: [
          "‡∏ï‡∏£‡∏ß‡∏à‡∏ß‡∏±‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô‡∏ó‡∏∏‡∏Å 2‚Äì3 ‡∏ß‡∏±‡∏ô",
          "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô",
          "‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ã‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ü‡∏∑‡πâ‡∏ô‡∏ï‡∏±‡∏ß",
        ],
        report: "üíß ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡∏≠‡∏ö",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏û‡∏ö‡∏ß‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏î‡∏¥‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÄ‡∏Å‡∏¥‡∏î‡∏†‡∏≤‡∏ß‡∏∞‡∏Ç‡∏≤‡∏î‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏ñ‡∏∂‡∏á 40%",
          advice:
            "‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡πà‡∏ß‡∏¢‡∏à‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°‡πÅ‡∏•‡∏∞‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏Ç‡∏∂‡πâ‡∏ô",
          note:
            "‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏ô‡∏¢‡∏±‡πà‡∏á‡∏¢‡∏∑‡∏ô‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
        },
      },
      {
        id: "nutrient",
        icon: "üåø",
        title: "‡∏Ç‡∏≤‡∏î‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£",
        actions: [
          "‡∏ñ‡πà‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡πÉ‡∏ö‡∏ó‡∏∏‡∏Å 2 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",
          "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏õ‡∏∏‡πã‡∏¢‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ",
          "‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡∏ã‡πâ‡∏≥‡∏ó‡∏∏‡∏Å 6‚Äì12 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô",
        ],
        report: "üìä ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ö ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß",
        context: {
          icon: "üìä",
          title: "‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏≠‡∏î‡∏µ‡∏ï",
          summary:
            "‡∏™‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏î‡∏¥‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‡∏°‡∏±‡∏Å‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏Ç‡∏≠‡∏á‡∏™‡∏µ‡πÉ‡∏ö‡πÅ‡∏•‡∏∞‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤",
          advice:
            "‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πã‡∏¢‡∏™‡∏π‡∏ï‡∏£‡πÉ‡∏î‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡πÉ‡∏´‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡∏ï‡πà‡∏≠‡πÑ‡∏õ",
          note:
            "‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏ä‡πà‡∏ß‡∏¢‡∏•‡∏î‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏ß‡∏ô",
        },
      },
    ],
  },
};

// AI Analysis Component
const AIAnalysis = ({ currentData }) => {
  // Map case IDs to their corresponding satellite indices and colors
  const indexMapping = {
    water: { index: "NDMI", value: currentData.indices.find(i => i.name === "NDMI"), color: "text-blue-700" },
    nutrient: { index: "NDRE", value: currentData.indices.find(i => i.name === "NDRE"), color: "text-orange-700" },
    leafage: { index: "PSRI", value: currentData.indices.find(i => i.name === "PSRI"), color: "text-red-700" },
  };

  return (
    <div className="text-[9px] sm:text-[10px] text-gray-700 mb-3 bg-white/70 rounded-xl p-2.5 border border-orange-200">
      <div className="font-semibold mb-1.5">ü§ñ AI ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏≠‡∏≤‡∏à‡∏°‡∏≤‡∏à‡∏≤‡∏Å:</div>
      <ul className="pl-3 space-y-1.5">
        {recommendations.step1.cases.map((case_) => {
          const mapping = indexMapping[case_.id];
          if (!mapping || !mapping.value) return null;
          
          return (
            <li key={case_.id} className="leading-relaxed">
              <span className={`font-bold ${mapping.color}`}>{case_.title}</span> - 
              ‡∏Ñ‡πà‡∏≤ {mapping.index} {mapping.value.status.toLowerCase()} ({mapping.value.value}) {case_.context.summary.split('(')[1]?.split(')')[0] ? '- ' + case_.context.summary : ''}
            </li>
          );
        })}
      </ul>
    </div>
  );
};

// Context Info Component
const ContextInfo = ({ context }) => {
  if (!context) return null;
  
  return (
    <div className="mt-2.5 p-2 bg-blue-50 border border-blue-200 rounded-lg space-y-1.5">
      <div className="flex items-center gap-1.5 font-semibold text-blue-900 text-[9px]">
        <span className="text-sm">{context.icon}</span>
        {context.title}
      </div>
      <p className="text-[9px] leading-relaxed text-blue-800">
        {context.summary}
      </p>
      <p className="text-[9px] leading-relaxed text-blue-700 bg-blue-100 p-1.5 rounded">
        üí° <span className="font-semibold">‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</span> {context.advice}
      </p>
      <p className="text-[8px] text-blue-600 italic">
        ‚ÑπÔ∏è {context.note}
      </p>
    </div>
  );
};

// Alert Suggestions Component
const AlertSuggestions = ({ currentData }) => {
  const [expandedSteps, setExpandedSteps] = useState({});
  const [expandedCases, setExpandedCases] = useState({});

  const toggleStep = (key) => setExpandedSteps((p) => ({ ...p, [key]: !p[key] }));
  const toggleCase = (key) => setExpandedCases((p) => ({ ...p, [key]: !p[key] }));

  return (
    <div className="bg-gradient-to-br from-orange-50 via-red-50 to-orange-50 rounded-xl p-3 border-2 border-red-300 shadow-md">
      <h3 className="font-bold text-xs text-gray-800 mb-3 flex items-center gap-2">
        <span className="text-base">üí°</span> ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
      </h3>

      <AIAnalysis currentData={currentData} />

      {Object.entries(recommendations).map(([stepKey, step], i) => (
        <div key={stepKey} className="bg-white rounded-xl border-2 border-gray-200 mb-2.5 shadow-sm overflow-hidden">
          <button 
            onClick={() => toggleStep(stepKey)} 
            className="w-full flex justify-between items-center p-2.5 hover:bg-gray-50 transition-colors"
          >
            <span className="font-bold text-[10px] sm:text-[11px] text-gray-800">
              {i + 1}. {step.title}
            </span>
            <span className="text-xs text-gray-500 font-bold">
              {expandedSteps[stepKey] ? "‚ñº" : "‚ñ∂"}
            </span>
          </button>
          {expandedSteps[stepKey] && (
            <div className="px-2.5 pb-2.5 text-[9px] sm:text-[10px] text-gray-700 space-y-2 border-t border-gray-100 pt-2">
              <p className="italic text-gray-600">{step.subtitle}</p>
              {step.cases.map((case_) => {
                const caseKey = `${stepKey}-${case_.id}`;
                return (
                  <div key={case_.id} className="border-2 border-gray-200 rounded-lg overflow-hidden">
                    <button 
                      onClick={() => toggleCase(caseKey)} 
                      className="w-full flex justify-between items-center p-2 bg-gray-50 hover:bg-gray-100 transition-colors"
                    >
                      <span className="flex items-center gap-1.5 font-semibold text-[10px]">
                        <span className="text-sm">{case_.icon}</span>
                        {case_.title}
                      </span>
                      <span className="text-xs text-gray-500 font-bold">
                        {expandedCases[caseKey] ? "‚ñº" : "‚ñ∂"}
                      </span>
                    </button>
                    {expandedCases[caseKey] && (
                      <div className="p-2.5 space-y-2 bg-white">
                        {case_.indicators && (
                          <p className="text-blue-700 bg-blue-50 p-2 rounded-lg text-[9px]">
                            üîç <span className="font-semibold">‡∏≠‡∏≤‡∏Å‡∏≤‡∏£:</span> {case_.indicators.join(", ")}
                          </p>
                        )}
                        {case_.details && case_.details.map((d,i)=>(
                          <p key={i} className="pl-2 leading-relaxed text-[9px]">‚Ä¢ {d}</p>
                        ))}
                        {case_.actions && case_.actions.map((a,i)=>(
                          <p key={i} className="pl-2 leading-relaxed text-[9px]">‚Ä¢ {a}</p>
                        ))}
                        {case_.action && (
                          <button className="w-full bg-gradient-to-r from-emerald-500 to-green-500 text-white py-2 rounded-lg font-semibold text-[10px] hover:shadow-lg transition-all">
                            üì∏ {case_.action}
                          </button>
                        )}
                        {case_.precaution && (
                          <p className="text-orange-700 bg-orange-50 p-2 rounded-lg border border-orange-200 font-medium text-[9px]">
                            {case_.precaution}
                          </p>
                        )}
                        {case_.note && (
                          <p className="text-blue-700 bg-blue-50 p-2 rounded-lg border border-blue-200 text-[9px]">
                            üí° {case_.note}
                          </p>
                        )}
                        {case_.report && (
                          <p className="text-purple-700 bg-purple-50 p-2 rounded-lg border border-purple-200 text-[9px]">
                            {case_.report}
                          </p>
                        )}
                        <ContextInfo context={case_.context} />
                      </div>
                    )}
                  </div>
                );
              })}
            </div>
          )}
        </div>
      ))}

      <button className="mt-3 w-full bg-white border-2 border-emerald-500 text-emerald-700 py-2.5 rounded-xl text-[10px] sm:text-[11px] font-bold hover:bg-emerald-50 transition-all shadow-sm hover:shadow-md">
        üìû ‡∏õ‡∏£‡∏∂‡∏Å‡∏©‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç
      </button>
    </div>
  );
};

// Healthy Suggestions Component
const HealthySuggestions = () => (
  <div className="bg-gradient-to-br from-blue-50 via-cyan-50 to-blue-50 rounded-xl p-3 border-2 border-blue-300 shadow-md">
    <h3 className="font-bold text-xs text-gray-800 mb-3 flex items-center gap-2">
      <span className="text-base">üí°</span> ‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°
    </h3>
    <ul className="space-y-2 text-[10px] sm:text-[11px] text-gray-700">
      <li className="flex items-start gap-2 bg-white/70 p-2 rounded-lg border border-blue-200">
        <span className="text-blue-600 font-bold flex-shrink-0">‚Ä¢</span>
        <span>‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</span>
      </li>
      <li className="flex items-start gap-2 bg-white/70 p-2 rounded-lg border border-blue-200">
        <span className="text-blue-600 font-bold flex-shrink-0">‚Ä¢</span>
        <span>‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πã‡∏¢‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏ó‡∏∏‡∏Å 2 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span>
      </li>
      <li className="flex items-start gap-2 bg-white/70 p-2 rounded-lg border border-blue-200">
        <span className="text-blue-600 font-bold flex-shrink-0">‚Ä¢</span>
        <span>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏£‡∏Ñ‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡∏•‡∏á‡∏®‡∏±‡∏ï‡∏£‡∏π‡∏û‡∏∑‡∏ä‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥</span>
      </li>
      <li className="flex items-start gap-2 bg-white/70 p-2 rounded-lg border border-blue-200">
        <span className="text-blue-600 font-bold flex-shrink-0">‚Ä¢</span>
        <span>‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏ß‡∏≤‡∏î‡πÉ‡∏ö‡∏ó‡∏µ‡πà‡∏£‡πà‡∏ß‡∏á‡∏´‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÇ‡∏£‡∏Ñ</span>
      </li>
    </ul>
  </div>
);

export default AgriMonitorPitchApp;